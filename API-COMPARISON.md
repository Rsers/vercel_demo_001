# API åŠŸèƒ½å¯¹æ¯”è¯´æ˜

## ğŸ“Š ä¸¤ç§ API å®ç°å¯¹æ¯”

### 1. `/api/weather` - æ¼”ç¤ºç‰ˆæœ¬ï¼ˆæ¨¡æ‹Ÿæ•°æ®ï¼‰

**ç‰¹ç‚¹ï¼š**
- âœ… æ— éœ€ API Key
- âœ… å¿«é€Ÿå“åº”
- âŒ æ•°æ®æ˜¯ç¡¬ç¼–ç çš„
- âŒ æ²¡æœ‰çœŸæ­£è°ƒç”¨å¤–éƒ¨æœåŠ¡
- âŒ åªå±•ç¤ºäº†å‡½æ•°è¿è¡Œèƒ½åŠ›

**ä½¿ç”¨é¡µé¢ï¼š** `index.html`

**ä»£ç æ–‡ä»¶ï¼š** `api/weather.js`

---

### 2. `/api/weather-real` - çœŸå®ç‰ˆæœ¬ï¼ˆå¤–éƒ¨ APIï¼‰

**ç‰¹ç‚¹ï¼š**
- âœ… è°ƒç”¨çœŸå®çš„ OpenWeatherMap API
- âœ… å±•ç¤ºå¤–éƒ¨ API è°ƒç”¨èƒ½åŠ›
- âœ… å±•ç¤ºæ•°æ®èšåˆå’Œå¤„ç†
- âœ… å±•ç¤ºé”™è¯¯å¤„ç†æœºåˆ¶
- âœ… çœŸå®çš„å¤©æ°”æ•°æ®
- âš ï¸ éœ€è¦ API Key

**ä½¿ç”¨é¡µé¢ï¼š** `index-real.html`

**ä»£ç æ–‡ä»¶ï¼š** `api/weather-real.js`

---

## ğŸ” ä¸ºä»€ä¹ˆéœ€è¦ä¸¤ä¸ªç‰ˆæœ¬ï¼Ÿ

### `/api/weather`ï¼ˆæ¼”ç¤ºç‰ˆæœ¬ï¼‰
- ç”¨äºå¿«é€Ÿæ¼”ç¤ºå’Œæµ‹è¯•
- æ— éœ€ä»»ä½•é…ç½®å³å¯è¿è¡Œ
- é€‚åˆå­¦ä¹  Vercel API çš„åŸºæœ¬æ¦‚å¿µ

### `/api/weather-real`ï¼ˆçœŸå®ç‰ˆæœ¬ï¼‰
- å±•ç¤º API çš„çœŸæ­£ä»·å€¼
- çœŸå®çš„å¤–éƒ¨æœåŠ¡é›†æˆ
- å±•ç¤ºå®Œæ•´çš„æ•°æ®è·å–æµç¨‹
- å±•ç¤ºæœåŠ¡ç«¯çš„æ ¸å¿ƒèƒ½åŠ›

---

## ğŸš€ æ ¸å¿ƒä»·å€¼å±•ç¤º

### `/api/weather-real` å±•ç¤ºçš„ API èƒ½åŠ›ï¼š

1. **å¤–éƒ¨ API è°ƒç”¨**
   ```javascript
   const response = await fetch('https://api.openweathermap.org/...');
   ```
   - çœŸæ­£ä»å¤–éƒ¨æœåŠ¡è·å–æ•°æ®
   - æ— æ³•åœ¨å‰ç«¯ç›´æ¥å®ç°ï¼ˆCORS é™åˆ¶ï¼‰

2. **API Key å®‰å…¨ä¿æŠ¤**
   ```javascript
   const API_KEY = '9362cfa70a5991f30b8e79afb1ca9ec4';
   ```
   - å¯†é’¥éšè—åœ¨æœåŠ¡ç«¯
   - å‰ç«¯æ— æ³•çœ‹åˆ°æ•æ„Ÿä¿¡æ¯

3. **æ•°æ®èšåˆ**
   ```javascript
   const [currentData, forecastData] = await Promise.all([
     fetch(currentWeatherUrl),
     fetch(forecastUrl)
   ]);
   ```
   - å¹¶è¡Œè°ƒç”¨å¤šä¸ª API
   - æœåŠ¡ç«¯æ•´åˆæ•°æ®

4. **é”™è¯¯å¤„ç†**
   ```javascript
   if (!currentResponse.ok) {
     return res.status(400).json({ error: '...' });
   }
   ```
   - ç»Ÿä¸€çš„é”™è¯¯å¤„ç†
   - å‹å¥½çš„é”™è¯¯ä¿¡æ¯

5. **æ•°æ®å¤„ç†**
   ```javascript
   const processedData = {
     location: {...},
     current: {...},
     forecast: {...}
   };
   ```
   - æœåŠ¡ç«¯è®¡ç®—å’Œè½¬æ¢
   - ä¸šåŠ¡é€»è¾‘å¤„ç†

---

## ğŸ“ ä½¿ç”¨æ–¹æ³•

### è®¿é—®æ¼”ç¤ºç‰ˆæœ¬ï¼š
```
http://localhost:3000/index.html
```

### è®¿é—®çœŸå®ç‰ˆæœ¬ï¼š
```
http://localhost:3000/index-real.html
```

---

## ğŸ’¡ å­¦ä¹ å»ºè®®

1. **å…ˆçœ‹æ¼”ç¤ºç‰ˆæœ¬** - ç†è§£åŸºæœ¬æ¦‚å¿µ
2. **å†çœ‹çœŸå®ç‰ˆæœ¬** - ç†è§£ API çš„çœŸæ­£ä»·å€¼
3. **å¯¹æ¯”ä¸¤è€…ä»£ç ** - ç†è§£å·®å¼‚å’Œè®¾è®¡è€ƒè™‘

---

## ğŸ¯ å…³é”®åŒºåˆ«

| ç‰¹æ€§ | æ¼”ç¤ºç‰ˆæœ¬ | çœŸå®ç‰ˆæœ¬ |
|------|---------|---------|
| æ•°æ®æ¥æº | ç¡¬ç¼–ç  | å¤–éƒ¨ API |
| API è°ƒç”¨ | æ—  | æœ‰ |
| API Key | ä¸éœ€è¦ | éœ€è¦ |
| å“åº”é€Ÿåº¦ | å¿« | ç¨æ…¢ |
| æ•°æ®çœŸå®æ€§ | æ¨¡æ‹Ÿ | çœŸå® |
| æ•™å­¦ä»·å€¼ | åŸºç¡€ | æ ¸å¿ƒ |

---

## ğŸ”— ç›¸å…³èµ„æº

- OpenWeatherMap API: https://openweathermap.org/api
- Vercel Serverless Functions: https://vercel.com/docs/functions
